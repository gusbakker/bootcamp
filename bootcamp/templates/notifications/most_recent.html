{% load static i18n thumbnail humanize %}

<div class="dropdown-notifications">
    {% if notifications %}
        <ul class="notif">
            {% for notification in notifications %}
                <li class="notification-item {% if not notification.read %}unread{% endif %}" data-notification-slug="{{ notification.slug }}">
                    <a href="{% url 'users:detail' notification.actor.username %}" class="notification-avatar">
                        <img src="{{ notification.actor.get_picture }}" class="user-picture"
                             alt="{% trans 'User avatar' %}">
                    </a>
                    <div class="notification-content">
                        <p class="notification-text">{{ notification|safe }}</p>
                        <p class="notification-time"><small>{{ notification.timestamp|naturaltime }}</small></p>
                    </div>
                    <a class="btn btn-light btn-sm mark-read-btn" title="{% trans 'Mark as read' %}"
                       href="{% url 'notifications:mark_as_read' notification.slug %}">
                        <i class="fa fa-check-circle"></i>
                    </a>
                </li>
            {% endfor %}

            <div class="dropdown-footer">
                <a href="{% url 'notifications:unread' %}" class="see-all-link">
                    {% trans 'See all notifications' %}
                </a>
            </div>
        </ul>
    {% else %}
        <div class="empty-notifications">
            <div class="empty-icon">
                <i class="fa fa-bell-slash"></i>
            </div>
            <p class="empty-text">{% trans 'You have no unread notifications' %}</p>
        </div>
    {% endif %}
</div>

{% block modal %}
    {% include "users/includes/partial_user_js.html" %}
{% endblock modal %}